{"version":3,"sources":["webpack:///G:/workspace/ownwork/uni-Cnode/pages/list/list.vue","webpack:///G:/workspace/ownwork/uni-Cnode/pages/list/list.vue?49f5","webpack:///G:/workspace/ownwork/uni-Cnode/pages/list/list.vue?7906","webpack:///G:/workspace/ownwork/uni-Cnode/pages/list/list.vue?6c03","webpack:///G:/workspace/ownwork/uni-Cnode/pages/list/list.vue?d444","webpack:///G:/workspace/ownwork/uni-Cnode/pages/list/list.vue?9821","webpack:///G:/workspace/ownwork/uni-Cnode/pages/list/list.vue?f5e6"],"names":["tabTypeList","components","uniMediaList","uniLoadMore","uniDrawer","uniIcon","denglu","data","loadingText","contentdown","contentrefresh","contentnomore","scrollLeft","refreshing","refreshText","newsList","tabIndex","tabBars","name","id","ref","pageSize","pullDown","drawerVisibale","login","avatarUrl","uerInfo","accToken","showNamePop","computed","scrollViewHeight","uni","getSystemInfoSync","windowHeight","onLoad","forEach","tabBar","index","push","requestParams","tab","limit","getList","methods","activeTab","time","Date","getTime","page","parseInt","length","self","request","url","success","result","statusCode","map","news","article_type","datetime","last_reply_at","title","image_url","author","avatar_url","visit_count","reply_count","top","good","userName","loginname","dayTime","create_at","stopPullDownRefresh","goDetail","detail","navigateTo","encodeURIComponent","JSON","stringify","loadMore","idx","changeTab","event","current","isClickChange","getElSize","tabBarScrollLeft","width","i","winWidth","windowWidth","nowElement","nowWidth","getNodeSize","node","Promise","resolve","reject","dom","getComponentRect","size","onRefresh","res","rej","createSelectorQuery","select","fields","scrollOffset","exec","tapTab","goLogin","queryUserInfo","username","getStorageSync","accesstoken","userData","uInfo","showToast","setStorageSync","icon","handlePopClose","saoyisao","scanCode","logout","removeStorageSync","mounted","userInfo","parse","onPullDownRefresh","onNavigationBarButtonTap","e"],"mappings":"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","file":"pages/list/list.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniMediaList from '@/components/uni-media-list/uni-media-list.vue';\nimport uniLoadMore from '@/components/uni-load-more/uni-load-more.vue';\nimport uniDrawer from \"@/components/uni-drawer/uni-drawer.vue\";\nimport uniIcon from \"@/components/uni-icon/uni-icon.vue\"\nimport denglu from '@/components/denglu/denglu.vue';\nconst tabTypeList = ['all','good','share','ask','job']\nimport {\n\tfriendlyDate\n} from '@/common/util.js';\n\nexport default {\n\tcomponents: {\n\t\tuniMediaList,\n\t\tuniLoadMore,\n\t\tuniDrawer,\n\t\tuniIcon,\n\t\tdenglu\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloadingText: {\n\t\t\t\tcontentdown: '上拉加载更多',\n\t\t\t\tcontentrefresh: '正在加载...',\n\t\t\t\tcontentnomore: '没有更多数据了'\n\t\t\t},\n\t\t\tscrollLeft: 0,\n\t\t\trefreshing: false,\n\t\t\trefreshText: '下拉可以刷新',\n\t\t\tnewsList: [],\n\t\t\ttabIndex: 0,\n\t\t\ttabBars: [{\n\t\t\t\tname: '全部',\n\t\t\t\tid: 0,\n\t\t\t\tref: 'new'\n\t\t\t}, {\n\t\t\t\tname: '精华',\n\t\t\t\tid: 23,\n\t\t\t\tref: 'company'\n\t\t\t}, {\n\t\t\t\tname: '分享',\n\t\t\t\tid: 223,\n\t\t\t\tref: 'content'\n\t\t\t}, {\n\t\t\t\tname: '问答',\n\t\t\t\tid: 221,\n\t\t\t\tref: 'xiaofei'\n\t\t\t}, {\n\t\t\t\tname: '招聘',\n\t\t\t\tid: 225,\n\t\t\t\tref: 'yule'\n\t\t\t}],\n\t\t\tpageSize:15,\n\t\t\tpullDown:false,\n\t\t\tdrawerVisibale:false,\n\t\t\tlogin: false,\n\t\t\tavatarUrl: '/static/logo.png',\n\t\t\tuerInfo: {},\n\t\t\taccToken:'',\n\t\t\tshowNamePop:false\n\t\t}\n\t},\n\tcomputed: {\n\t\tscrollViewHeight() {\n\t\t\treturn 'height:' + (uni.getSystemInfoSync().windowHeight) + 'px';\n\t\t}\n\t},\n\tonLoad: function() {\n\t\t// 初始化列表信息\n\t\tthis.tabBars.forEach((tabBar, index) => {\n\t\t\tthis.newsList.push({\n\t\t\t\tid: 'tabBar' + index,\n\t\t\t\tdata: [],\n\t\t\t\trequestParams: {\n\t\t\t\t\ttab: tabTypeList[index],\n\t\t\t\t\tlimit : this.pageSize\n\t\t\t\t},\n\t\t\t\tloadingText: '加载中...'\n\t\t\t});\n\t\t});\n\t\tthis.getList();\n\t},\n\tmethods: {\n\t\tgetList() {\n\t\t\tlet activeTab = this.newsList[this.tabIndex];\n\t\t\tactiveTab.requestParams.time = new Date().getTime() + '';\n\t\t\tif(this.pullDown){\n\t\t\t\tactiveTab.requestParams.page =1 ;\n\t\t\t} else {\n\t\t\t\tactiveTab.requestParams.page = parseInt(activeTab.data.length /  this.pageSize) +1;\n\t\t\t}\n\t\t\t\n\t\t\tthis.loadingText = '加载中...';\n\t\t\tvar self = this;\n\t\t\t// if(this.refreshing) return;\n\t\t\tuni.request({\n\t\t\t\turl: 'https://cnodejs.org/api/v1/topics',\n\t\t\t\tdata: activeTab.requestParams,\n\t\t\t\tsuccess: (result) => {\n\t\t\t\t\tif (result.statusCode == 200) {\n\t\t\t\t\tconst data = result.data.data.map((news) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: news.id,\n\t\t\t\t\t\t\t\tarticle_type: news.tab,\n\t\t\t\t\t\t\t\tdatetime: news.last_reply_at,\n\t\t\t\t\t\t\t\ttitle: news.title,\n\t\t\t\t\t\t\t\timage_url: news.author.avatar_url,\n\t\t\t\t\t\t\t\tvisit_count: news.visit_count,\n\t\t\t\t\t\t\t\treply_count: news.reply_count,\n\t\t\t\t\t\t\t\ttop:news.top,\n\t\t\t\t\t\t\t\tgood:news.good,\n\t\t\t\t\t\t\t\ttabIndex:self.tabIndex,\n\t\t\t\t\t\t\t\tuserName:news.author.loginname,\n\t\t\t\t\t\t\t\tdayTime: friendlyDate(new Date(news.create_at).getTime())\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//  下拉刷新\n\t\t\t\t\t\tif(self.pullDown){\n\t\t\t\t\t\t\tactiveTab.data = data;\n\t\t\t\t\t\t}  else {\n\t\t\t\t\t\t\tdata.forEach((news) => {\n\t\t\t\t\t\t\t\tactiveTab.data.push(news);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.pullDown = false;\n\t\t\t\t\t\tself.refreshing = false;\n\t\t\t\t\t\tuni.stopPullDownRefresh()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 跳转详情\n\t\tgoDetail(detail) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/detail/detail?query=' + encodeURIComponent(JSON.stringify(detail))\n\t\t\t});\n\t\t},\n\t\t// 加载更多\n\t\tloadMore(idx) {\n\t\t\tif(!this.refreshing){\n\t\t\t\tthis.refreshing = true;\n\t\t\t\tthis.getList();\n\t\t\t}\n\t\t},\n\t\t// tab切换\n\t\tasync changeTab(event) {\n\t\t\tlet index = event.detail.current;\n\t\t\tif (this.isClickChange) {\n\t\t\t\tthis.tabIndex = index;\n\t\t\t\tthis.isClickChange = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet tabBar = await this.getElSize('tab-bar');\n\t\t\tlet tabBarScrollLeft = tabBar.scrollLeft;\n\t\t\tlet width = 0;\n\n\t\t\tfor (let i = 0; i < index; i++) {\n\t\t\t\tlet result = await this.getElSize(this.tabBars[i].ref);\n\t\t\t\twidth += result.width;\n\t\t\t}\n\t\t\tlet winWidth = uni.getSystemInfoSync().windowWidth,\n\t\t\t\tnowElement = await this.getElSize(this.tabBars[index].ref),\n\t\t\t\tnowWidth = nowElement.width;\n\t\t\tif (width + nowWidth - tabBarScrollLeft > winWidth) {\n\t\t\t\tthis.scrollLeft = width + nowWidth - winWidth;\n\t\t\t}\n\t\t\tif (width < tabBarScrollLeft) {\n\t\t\t\tthis.scrollLeft = width;\n\t\t\t}\n\t\t\tthis.isClickChange = false;\n\t\t\tthis.tabIndex = index;\n\n\t\t\t// 首次切换后加载数据\n\t\t\tconst activeTab = this.newsList[this.tabIndex];\n\t\t\tif (activeTab.data.length === 0) {\n\t\t\t\tthis.getList();\n\t\t\t}\n\t\t},\n\t\tgetNodeSize(node) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tdom.getComponentRect(node, (result) => {\n\t\t\t\t\tresolve(result.size);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tonRefresh(event) {\n\t\t\tthis.refreshText = '正在刷新...';\n\t\t\tthis.refreshing = true;\n\t\t\tthis.getList();\n\t\t},\n\t\tgetElSize(id) { //得到元素的size\n\t\t\treturn new Promise((res, rej) => {\n\t\t\t\tuni.createSelectorQuery().select('#' + id).fields({\n\t\t\t\t\tsize: true,\n\t\t\t\t\tscrollOffset: true\n\t\t\t\t}, (data) => {\n\t\t\t\t\tres(data);\n\t\t\t\t}).exec();\n\t\t\t});\n\t\t},\n\t\tasync tapTab(index) { //点击tab-bar\n\t\t\tif (this.tabIndex === index) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tthis.tabIndex = index;\n\t\t\t\t// 首次切换后加载数据\n\t\t\t\tconst activeTab = this.newsList[this.tabIndex];\n\t\t\t\tif (activeTab.data.length === 0) {\n\t\t\t\t\tthis.getList();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 扫码登录\n\t\tgoLogin() {\n\t\t\tif (!this.login) {\n\t\t\t\tthis.showNamePop = true;\n\t\t\t}\n\t\t},\n\t\t// 查询用户信息 \n\t\tqueryUserInfo(){\n\t\t\t var username = uni.getStorageSync('CNode-username');\n\t\t\t uni.request({\n\t\t\t\turl: 'https://cnodejs.org/api/v1/user/'+username,\n\t\t\t\tdata: {\n\t\t\t\t\taccesstoken: this.accToken\n\t\t\t\t},\n\t\t\t\tsuccess: (result) => {\n\t\t\t\t\t if(result.data.success){\n\t\t\t\t\t\t let userData = result.data.data;\n\t\t\t\t\t\t const uInfo ={\n\t\t\t\t\t\t\t name:userData.loginname,\n\t\t\t\t\t\t\t avatarUrl:userData.avatar_url\n\t\t\t\t\t\t }\n\t\t\t\t\t\t this.uerInfo = uInfo;\n\t\t\t\t\t\t this.login = true;\n\t\t\t\t\t\t uni.showToast({\n\t\t\t\t\t\t \ttitle:'登录成功！'\n\t\t\t\t\t\t })\n\t\t\t\t\t\t this.drawerVisibale = false;\n\t\t\t\t\t\t uni.setStorageSync('CNode-userInfo',JSON.stringify(uInfo));\n\t\t\t\t\t } else {\n\t\t\t\t\t\t uni.showToast({\n\t\t\t\t\t\t \ticon:'none',\n\t\t\t\t\t\t\ttitle:'获取用户信息失败'\n\t\t\t\t\t\t })\n\t\t\t\t\t }\n\t\t\t\t }\n\t\t\t});\n\t\t},\n\t\thandlePopClose(){\n\t\t\tthis.showNamePop = false;\n\t\t},\n\t\tsaoyisao(){\n\t\t\tvar self = this;\n\t\t\tuni.scanCode({\n\t\t\t\tsuccess: function (res) {\n\t\t\t\t\tif(res.result){\n\t\t\t\t\t\tself.accToken = res.result;\n\t\t\t\t\t\tself.queryUserInfo()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 退出登录\n\t\tlogout(){\n\t\t\t  uni.removeStorageSync('CNode-userInfo');\n\t\t\t  this.login = false;\n\t\t\t  this.uerInfo = {}\n\t\t\t  uni.showToast({\n\t\t\t\ttitle:'操作成功！'\n\t\t\t  })\n\t\t}\n\t},\n\tmounted(){\n\t\tvar userInfo = uni.getStorageSync('CNode-userInfo');\n\t\tif(userInfo){\n\t\t\tthis.login  = true;\n\t\t\tthis.uerInfo = JSON.parse(userInfo);\n\t\t} \n\t},\n\tonPullDownRefresh() {\n\t\t// 初始化数据\n\t\tthis.pullDown =  true;\n\t\tthis.getList()\n\t},\n\t// 点击导航菜单\n\tonNavigationBarButtonTap(e) {\n\t\tthis.drawerVisibale = true;\n\t},\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.drawerVisibale = false\n    }\n  }\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=1ebfef5d&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('1ebfef5d', component.options)\n    } else {\n      api.reload('1ebfef5d', component.options)\n    }\n    module.hot.accept(\"./list.vue?vue&type=template&id=1ebfef5d&\", function () {\n      api.rerender('1ebfef5d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"G:/workspace/ownwork/uni-Cnode/pages/list/list.vue\"\nexport default component.exports","import mod from \"-!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.0.1.20190614.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./list.vue?vue&type=template&id=1ebfef5d&\""],"sourceRoot":""}